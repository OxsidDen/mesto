(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===e(i)?i:String(i)),r)}var i}var n=function(){function e(t,n,o,r,i,u,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._userId=n,this._owner=t.owner._id,this._id=t._id,this._title=t.name,this._link=t.link,this._likes=t.likes,this._openPopup=o,this._handleDeletClick=r,this.addLikeClick=u,this.deletLikeClick=i,this._templateSelector=a}var n,o;return n=e,(o=[{key:"_getTemplate",value:function(e){return document.querySelector(e).content.querySelector(".element").cloneNode(!0)}},{key:"likePost",value:function(){this._elementLike.classList.toggle("element__like_active")}},{key:"deletPost",value:function(){this._card.remove()}},{key:"calculateLike",value:function(e){this._likes=e.likes,this._elementCuounter=this._card.querySelector(".element__counter"),this._elementCuounter.textContent=this._likes.length}},{key:"_isLiked",value:function(){var e=this;this._likes.some((function(t){return t._id===e._userId}))&&this.likePost()}},{key:"_viewImage",value:function(){this._openPopup(this._data)}},{key:"_setListener",value:function(){var e=this;this._elementLike.addEventListener("click",(function(){e._elementLike.classList.contains("element__like_active")?e.addLikeClick(e._id):e.deletLikeClick(e._id),e.likePost()})),this._elementDelete.addEventListener("click",(function(){e._handleDeletClick(e._id)})),this._elementView.addEventListener("click",(function(){return e._viewImage()}))}},{key:"renderCard",value:function(){return this._card=this._getTemplate(this._templateSelector),this._elementParagraph=this._card.querySelector(".element__paragraph"),this._elementImg=this._card.querySelector(".element__img"),this._elementDelete=this._card.querySelector(".element__delete"),this._elementLike=this._card.querySelector(".element__like"),this._elementView=this._card.querySelector(".element__img-popup"),this._owner!==this._userId&&this._elementDelete.remove(),this._elementParagraph.textContent=this._title,this._elementImg.src=this._link,this._elementImg.alt=this._title,this._setListener(),this._isLiked(),this._card}}])&&t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._errorInputClass=t.errorInputClass,this._errorTextClass=t.errorTextClass,this._saveButton=n.querySelector(t.saveButtonSelector),this._saveButtonDisableClass=t.saveButtonDisableClass,this._inputList=Array.from(n.querySelectorAll(t.inputSelector))}var t,n;return t=e,(n=[{key:"_hideError",value:function(e,t){e.classList.remove(this._errorInputClass),t.textContent="",t.classList.remove(this._errorTextClass)}},{key:"_showError",value:function(e,t,n){e.classList.add(this._errorInputClass),t.textContent=n,t.classList.add(this._errorTextClass)}},{key:"_testValid",value:function(e){var t=this._form.querySelector(".".concat(e.id,"-error"));e.validity.valid?this._hideError(e,t):this._showError(e,t,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_enableButton",value:function(){this._saveButton.classList.remove(this._saveButtonDisableClass),this._saveButton.disabled=!1}},{key:"disableButton",value:function(){this._saveButton.classList.add(this._saveButtonDisableClass),this._saveButton.disabled=!0}},{key:"_switchButton",value:function(){this._hasInvalidInput()?this.disableButton():this._enableButton()}},{key:"_setEventListeners",value:function(){var e=this;this.disableButton(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._testValid(t),e._switchButton()}))}))}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u=document.querySelector("#popupProf"),a=document.querySelector("#popupPlace"),c=document.querySelector("#formEditAvatar"),l=u.querySelector("#formProf"),s=a.querySelector("#formPlace"),f=document.querySelector(".profile__change"),p=document.querySelector(".profile__add"),h=s.querySelector("#form__place"),y=s.querySelector("#form__link"),d={errorInputClass:"form__input_error",errorTextClass:"form__input-error_able",saveButtonSelector:".form__save-button",saveButtonDisableClass:"form__save-button_disable",inputSelector:".form__input"},m=".profile__name",_=".profile__about",v=document.querySelector(".profile__photo"),b=document.querySelector(m),S=document.querySelector(_),g=document.querySelector(".elements"),k=document.querySelector("#deletPlace"),w=document.querySelector(".profile__photo-edit"),P=c.querySelector(".form__input"),E="Сохранить",j="Сохранение";function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==C(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===C(r)?r:String(r)),o)}var r}var O=function(){function e(t,n){var o=t.items,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=o,this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderingCard",value:function(){var e=this;this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==T(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===T(r)?r:String(r)),o)}var r}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._form=this._popup.querySelector(".form"),this._closeButton=this._popup.querySelector(".popup__close-button"),this._handleEscClose=this._handleEscClose.bind(this),this._esc="Escape"}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opend"),this._popup.classList.add("emerging_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opend"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){e.key===this._esc&&this.close()}},{key:"setEventListeners",value:function(){var e=this,t=this._popup.firstElementChild;this._popup.addEventListener("mousedown",(function(n){n.target==t||t.contains(n.target)||e.close()})),this._closeButton.addEventListener("click",(function(){e.close()}))}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();class x{constructor(e){this._popup=document.querySelector(e),this._form=this._popup.querySelector(".form"),this._closeButton=this._popup.querySelector(".popup__close-button"),this._handleEscClose=this._handleEscClose.bind(this),this._esc="Escape"}open(){this._popup.classList.add("popup_opend"),this._popup.classList.add("emerging_open"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_opend"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){e.key===this._esc&&this.close()}setEventListeners(){const e=this._popup.firstElementChild;this._popup.addEventListener("mousedown",(t=>{t.target==e||e.contains(t.target)||this.close()})),this._closeButton.addEventListener("click",(()=>{this.close()}))}}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==B(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===B(r)?r:String(r)),o)}var r}function z(){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=R(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},z.apply(this,arguments)}function R(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function V(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(o);if(r){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImg=t._popup.querySelector("#viewImg"),t._popupCaption=t._popup.querySelector(".popup__caption"),t}return t=u,(n=[{key:"open",value:function(e){z(A(u.prototype),"open",this).call(this),this._popupImg.src=e.link,this._popupCaption.textContent=e.name,this._popupImg.alt=e.name}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(x);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==J(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===J(r)?r:String(r)),o)}var r}function H(){return H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=M(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},H.apply(this,arguments)}function M(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Q(e)););return e}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function K(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(o);if(r){var n=Q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return K(this,e)});function u(e){var t,n=e.popupSelector,o=e.formSubmit,r=e.loadingText,a=e.defoltText;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._popup=document.querySelector(n),t._popupForm=t._popup.querySelector(".form"),t._formSubmit=o,t._inputList=Array.from(t._popup.querySelectorAll(".form__input")),t._buttonText=t._form.querySelector(".form__save-button").textContent,t._loadingText=r,t._defoltText=a,t}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this.formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this.formValues}},{key:"close",value:function(){this._popupForm.reset(),H(Q(u.prototype),"close",this).call(this)}},{key:"loading",value:function(e){this._buttonText=e?this._loadingText:this._defoltText}},{key:"setEventListeners",value:function(){H(Q(u.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",this._formSubmit)}}])&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(x);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==X(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==X(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===X(r)?r:String(r)),o)}var r}var Z=function(){function e(t){var n=t.nameSelector,o=t.aboutSelector,r=t.getProf;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameSelector=document.querySelector(n),this._aboutSelector=document.querySelector(o),this._aboutInput=document.querySelector("#form__about"),this._nameInput=document.querySelector("#form__name"),this._profile=r,this._id=r._id}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){this._nameInput.value=this._nameSelector.textContent,this._aboutInput.value=this._aboutSelector.textContent}},{key:"setUserInfo",value:function(){this._nameSelector.textContent=this._nameInput.value,this._aboutSelector.textContent=this._aboutInput.value}},{key:"myId",value:function(){return this._id}}])&&Y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function ee(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,oe(o.key),o)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ne(e,t,n){return(t=oe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==$(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$(t)?t:String(t)}var re=te((function e(t){var n=this,o=t.baseUrl,r=t.authorization;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ne(this,"getProfile",(function(){return fetch(n._baseUrl+"/users/me",{headers:{authorization:n._authorization}}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))})),ne(this,"getCards",(function(){return fetch(n._baseUrl+"/cards",{headers:{authorization:n._authorization}}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))})),ne(this,"changeProfile",(function(e,t){return fetch(n._baseUrl+"/users/me",{method:"PATCH",headers:{authorization:n._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))})),ne(this,"addNewPost",(function(e,t){return fetch(n._baseUrl+"/cards",{method:"POST",headers:{authorization:n._authorization,"Content-Type":"application/json"},body:JSON.stringify({link:t,name:e})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))})),ne(this,"deletCard",(function(e){return fetch(n._baseUrl+"/cards/"+e,{method:"DELETE",headers:{authorization:n._authorization}}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))})),ne(this,"changeAvatar",(function(e){return fetch(n._baseUrl+"/users/me/avatar",{method:"PATCH",headers:{authorization:n._authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))})),ne(this,"putLike",(function(e){return fetch(n._baseUrl+"/cards/"+e+"/likes",{method:"PUT",headers:{authorization:n._authorization}}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))})),ne(this,"deletLike",(function(e){return fetch(n._baseUrl+"/cards/"+e+"/likes",{method:"DELETE",headers:{authorization:n._authorization}}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))})),this._baseUrl=o,this._authorization=r})),ie=0,ue=new i(d,s);ue.enableValidation(),new i(d,l).enableValidation();var ae=new i(d,c);ae.enableValidation();var ce=new I("#popupDelet"),le=new re({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-59",authorization:"08c90c1a-1998-40ee-b8a2-c5f50d26b954"}),se=new W({popupSelector:"#popupProf",formSubmit:function(e){e.preventDefault(),fe.loading(!0),de.setUserInfo(),le.changeProfile(b.textContent,S.textContent).catch((function(e){console.log(e)})).finally((function(){fe.loading(!1)})),se.close()},loadingText:j,defoltText:E}),fe=new W({popupSelector:"#popupPlace",formSubmit:function(e){e.preventDefault(),fe.loading(!0);var t={name:h.value,link:y.value};le.addNewPost(t.name,t.link).then((function(e){var t=he(e).renderCard();g.prepend(t)})).catch((function(e){console.log(e)})).finally((function(){fe.loading(!1)})),fe.close()},loadingText:"Создание",defoltText:"Создать"}),pe=new W({popupSelector:"#popupEditAvatar",formSubmit:function(e){e.preventDefault(),fe.loading(!0),le.changeAvatar(P.value).then((function(e){v.src=e.avatar})).catch((function(e){console.log(e)})).finally((function(){fe.loading(!1)})),pe.close()},loadingText:j,defoltText:E}),he=function(e){var t=new n(e,ie,(function(e){ye.open(e)}),(function(e){ce.open(),k.addEventListener("click",(function(){le.deletCard(e).then((function(){t.deletPost(),ce.close()})).catch((function(e){console.log(e)}))}))}),(function(e){le.putLike(e).then((function(e){t.calculateLike(e)})).catch((function(e){console.log(e)}))}),(function(e){le.deletLike(e).then((function(e){t.calculateLike(e)})).catch((function(e){console.log(e)}))}),"#templateCard");return t},ye=new N("#popupView"),de=new Z({nameSelector:m,aboutSelector:_,getProf:le.getProfile().then((function(e){return v.src=e.avatar,b.textContent=e.name,S.textContent=e.about,ie=e._id})).catch((function(e){console.log(e)}))});de.myId(),f.addEventListener("click",(function(){se.open(),de.getUserInfo()})),p.addEventListener("click",(function(){fe.open(),ue.disableButton()})),w.addEventListener("click",(function(){pe.open(),ae.disableButton()})),se.setEventListeners(),fe.setEventListeners(),ye.setEventListeners(),ce.setEventListeners(),pe.setEventListeners(),le.getCards().then((function(e){var t=new O({items:e,renderer:function(e){var n=he(e),o=n.renderCard();n.calculateLike(e),t.addItem(o)}},".elements");t.renderingCard()})).catch((function(e){console.log(e)}))})();